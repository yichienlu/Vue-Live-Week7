"use strict";(self["webpackChunkvue_live_week7"]=self["webpackChunkvue_live_week7"]||[]).push([[673],{2148:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(6252),l=n(3577),s=n(9963);const i={class:"pagination justify-content-center"},u=(0,a._)("span",{"aria-hidden":"true"},"«",-1),r=[u],o=["onClick"],d=(0,a._)("span",{"aria-hidden":"true"},"»",-1),c=[d];function p(e,t,n,u,d,p){return(0,a.wg)(),(0,a.iD)("nav",null,[(0,a._)("ul",i,[(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:!n.pages.has_pre}])},[(0,a._)("a",{href:"#",class:"page-link",onClick:t[0]||(t[0]=(0,s.iM)((e=>p.updatePage(n.pages.current_page-1)),["prevent"]))},r)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.pages.total_pages,(e=>((0,a.wg)(),(0,a.iD)("li",{class:(0,l.C_)(["page-item",{active:e===n.pages.current_page}]),key:e+"page"},[(0,a._)("a",{href:"#",class:"page-link",onClick:(0,s.iM)((t=>p.updatePage(e)),["prevent"])},(0,l.zw)(e),9,o)],2)))),128)),(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:!n.pages.has_next}])},[(0,a._)("a",{class:"page-link",onClick:t[1]||(t[1]=e=>p.updatePage(n.pages.current_page+1))},c)],2)])])}var g={name:"PaginationComponent",props:["pages"],methods:{updatePage(e){this.$emit("get-Items",e)}}},_=n(3744);const h=(0,_.Z)(g,[["render",p]]);var k=h},4673:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(6252),l=n(3577);const s={class:"container my-5"},i=(0,a._)("h1",null,"訂單列表",-1),u={class:"table align-middle"},r=(0,a._)("thead",null,[(0,a._)("th",null,"訂單編號"),(0,a._)("th",null,"訂單日期/時間"),(0,a._)("th",null,"訂單內容"),(0,a._)("th",null,"訂購人資訊"),(0,a._)("th",null,"付款狀態")],-1),o=(0,a._)("br",null,null,-1),d={class:"list-unstyled"},c=(0,a._)("br",null,null,-1),p=(0,a._)("br",null,null,-1),g=(0,a._)("br",null,null,-1),_={key:0},h=(0,a.Uk)(" 尚未付款 "),k=(0,a._)("button",{class:"btn btn-secondary"},"去付款",-1),w={key:1,class:"text-success"},m=(0,a.Uk)("付款完成 "),v=(0,a._)("button",{class:"btn btn-outline-secondary"},"查看訂單",-1);function b(e,t,n,b,f,y){const z=(0,a.up)("Loading-component"),C=(0,a.up)("router-link"),D=(0,a.up)("pagination-component");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(z,{active:f.isLoading},null,8,["active"]),(0,a._)("div",s,[i,(0,a._)("div",null,[(0,a._)("table",u,[r,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.orders,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,l.zw)(t.id),1),(0,a._)("td",null,[(0,a.Uk)((0,l.zw)(e.$filters.date(t.create_at))+" ",1),o,(0,a.Uk)(" "+(0,l.zw)(e.$filters.time(t.create_at)),1)]),(0,a._)("td",null,[(0,a._)("ul",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.values(t.products),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,l.zw)(e.product.title)+" x "+(0,l.zw)(e.qty),1)))),128))]),(0,a.Uk)(" 金額："+(0,l.zw)(t.total),1)]),(0,a._)("td",null,[(0,a.Uk)((0,l.zw)(t.user.name)+" ",1),c,(0,a.Uk)(" "+(0,l.zw)(t.user.email)+" ",1),p,(0,a.Uk)(" "+(0,l.zw)(t.user.tel)+" ",1),g,(0,a.Uk)(" "+(0,l.zw)(t.user.address),1)]),(0,a._)("td",null,[t.is_paid?((0,a.wg)(),(0,a.iD)("div",w,[m,(0,a.Wm)(C,{to:`/checkout/${t.id}`},{default:(0,a.w5)((()=>[v])),_:2},1032,["to"])])):((0,a.wg)(),(0,a.iD)("div",_,[h,(0,a.Wm)(C,{to:`/checkout/${t.id}`},{default:(0,a.w5)((()=>[k])),_:2},1032,["to"])]))])])))),128))])])]),(0,a.Wm)(D,{pages:f.pagination,onGetItems:y.getOrders},null,8,["pages","onGetItems"])])],64)}var f=n(2148),y={data(){return{orders:[],tempOrder:{},pagination:{},isLoading:!1}},components:{PaginationComponent:f.Z},methods:{getOrders(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/v2/api/yclu/orders").then((e=>{this.orders=e.data.orders,this.pagination=e.data.pagination,this.isLoading=!1})).catch((e=>{this.$httpMessageState(e.response,"錯誤訊息"),this.isLoading=!1}))}},mounted(){this.getOrders()}},z=n(3744);const C=(0,z.Z)(y,[["render",b]]);var D=C}}]);
//# sourceMappingURL=673.e676db4a.js.map